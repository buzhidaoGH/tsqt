<!DOCTYPE html><html lang="zh_CN"><head><meta charset="UTF-8"><title>五行&经验</title><style type="text/css">#fiveElements{background-color:#d6fff1;box-shadow:0 0 10px #f26b6f;border-radius:5px;margin-top:10px;padding:5px}#characterExp{background-color:#f48153;box-shadow:0 0 10px #83d3d4;border-radius:5px;margin-top:20px;padding:5px}</style></head><body><div class="layui-col-xs12" id="fiveElements"><fieldset class="layui-elem-field layui-field-title" style="margin-top:20px"><legend>五行模拟</legend></fieldset><form class="layui-form layui-form-pane"><div class="layui-form-item"><div class="layui-form-item"><label class="layui-form-label">五行类型</label><div class="layui-input-inline" style="width:118px;text-align:center;text-align-last:center"><select name="elementStyle" lay-verify="required"><option value="0" selected="selected">红色(攻击)</option><option value="1">蓝色(法力)</option><option value="2">橙色(血量)</option><option value="3">绿色(物防)</option><option value="4">紫色(法防)</option></select></div><label class="layui-form-label">五行层次</label><div class="layui-input-inline" style="width:80px;text-align:center;text-align-last:center"><select name="elementLevel" lay-verify="required"><option value="0" selected="selected">一等</option><option value="1">二等</option><option value="2">三等</option><option value="3">四等</option><option value="4">五等</option></select></div><label class="layui-form-label">初始等级</label><div class="layui-input-inline" style="width:80px;text-align:center;text-align-last:center"><input type="text" name="initialLevel" id="initialLevel" class="layui-input" value="1" lay-verify="required|number|fiveVerify|levelVerify" style="padding:0"></div><label class="layui-form-label">目标等级</label><div class="layui-input-inline" style="width:80px;text-align:center;text-align-last:center"><input type="text" name="targetLevel" id="targetLevel" class="layui-input" value="20" lay-verify="required|number|fiveVerify|levelVerify" style="padding:0"></div></div><div class="layui-form-item"><div class="layui-input-block"><button type="submit" class="layui-btn layui-btn-normal" lay-submit lay-filter="fiveMock">模拟</button> <button type="reset" class="layui-btn layui-btn-danger">重置</button></div></div></div><div class="layui-form-item" id="five_element_mock"><label class="layui-form-label">模拟结果</label></div></form></div><div class="layui-col-xs12" id="characterExp"><fieldset class="layui-elem-field layui-field-title" style="margin-top:20px"><legend>经验模拟</legend></fieldset><form class="layui-form layui-form-pane"><div class="layui-form-item"><label class="layui-form-label">人物职业</label><div class="layui-input-inline" style="width:80px;text-align:center;text-align-last:center"><select name="characterType" lay-filter="characterType" lay-verify="required"><option value="0" selected="selected">未转</option><option value="1">一转</option><option value="2">二转</option><option value="3">三转</option></select></div><label class="layui-form-label">初始等级</label><div class="layui-input-inline" style="width:80px;text-align:center;text-align-last:center"><input type="text" name="startLevel" id="startLevel" class="layui-input" value="1" lay-verify="required|number|levelVerify|characterVerify" style="padding:0"></div><label class="layui-form-label">目标等级</label><div class="layui-input-inline" style="width:80px;text-align:center;text-align-last:center"><input type="text" name="endLevel" id="endLevel" class="layui-input" value="100" lay-verify="required|number|levelVerify|characterVerify" style="padding:0"></div></div><div class="layui-form-item"><label class="layui-form-label">升级经验</label><div class="layui-input-inline" style="width:120px;text-align:center;text-align-last:center"><input type="text" id="needExp" disabled="disabled" class="layui-input" value="0" style="padding:0"></div><div class="layui-inline"><button type="submit" class="layui-btn layui-btn-normal" lay-submit lay-filter="expMock">模拟</button> <button type="reset" class="layui-btn layui-btn-danger">重置</button> <span style="color:#000">口语化：<span id="colloquial">无</span></span></div></div><div class="layui-form-item"><div class="layui-input-inline" style="width:120px;text-align:center;text-align-last:center"><label class="layui-form-label">除妖类型</label> <label class="layui-form-label">卡10经验</label> <label class="layui-form-label">战神经验</label> <label class="layui-form-label">元&emsp;&emsp;神</label> <label class="layui-form-label">除妖30天</label></div><div class="layui-input-inline" style="width:120px;text-align:center;text-align-last:center"><select lay-filter="demonType" lay-verify="required"><option value="0" selected="selected">特除179级</option><option value="1">高除159级</option><option value="2">中除140级</option><option value="3">初除120级</option></select> <input type="text" id="demonExp" disabled="disabled" class="layui-input" value="19（亿）" style="padding:0"> <input type="text" id="demonGod" disabled="disabled" class="layui-input" value="4（亿）" style="padding:0"> <input type="text" id="demonYs" disabled="disabled" class="layui-input" value="60（万）" style="padding:0"> <input type="text" id="demonMonth" disabled="disabled" class="layui-input" value="690亿+1800万" style="padding:0"></div></div></form></div><script type="text/javascript">const $startLevel=$("#startLevel"),$endLevel=$("#endLevel"),exp=[];function callback(e,t){e.on("submit(fiveMock)",(function({field:{elementStyle:e,elementLevel:t,initialLevel:a,targetLevel:n}}){e=parseInt(e),t=parseInt(t),a=parseInt(a),n=parseInt(n);const l=mockByLevel(getBase(e,t),t,a,n);return $("#fiveDep0").val(l.tar),$("#fiveDep1").val(l.fra),$("#fiveDep2").val(l.exp),$("#fiveDep3").val(l.dec),!1})),e.on("select(characterType)",(function({value:e}){switch(e=parseInt(e)){case 0:$startLevel.val(1),$endLevel.val(100);break;case 1:$startLevel.val(80),$endLevel.val(139);break;case 2:$startLevel.val(101),$endLevel.val(169);break;case 3:$startLevel.val(30),$endLevel.val(179)}})),e.on("submit(expMock)",(function({field:{characterType:e,startLevel:t,endLevel:a}}){let n=mockChartExp(e=parseInt(e),t=parseInt(t),a=parseInt(a));return $("#needExp").val(n),n>=1e8?$("#colloquial").html((n/1e8).toFixed(1)+"亿"):$("#colloquial").html("无"),!1})),e.on("select(demonType)",(function({value:e}){const t=[{exp:19,god:4,ys:60},{exp:7.6684,god:3,ys:40},{exp:3.8722,god:2,ys:20},{exp:1.938,god:1,ys:0}];$("#demonExp").val(t[e].exp+"（亿）"),$("#demonGod").val(t[e].god+"（亿）"),$("#demonYs").val(t[e].ys+"（万）"),$("#demonMonth").val(Math.ceil(30*(t[e].exp+t[e].god))+"亿+"+30*t[e].ys+"万")}))}function mockByLevel(e,t,a,n){function l(e,t){const a=[625,125,25,5,1];return{exp:(t-1)*[2,1.5,1,.5,.2][e],fra:(t-1)*a[e],base_fra:a[e]}}const r=l(t,a),s=l(t,n);return{exp:s.exp-r.exp+"（亿）",fra:s.fra-r.fra,dec:Math.trunc(.8*r.fra)+r.base_fra,tar:function(e,t){for(let a=1;a<t;a++)e=Math.trunc(1.2*e);return e}(e,n)}}function getBase(e,t){return[[250,150,90,60,40],[250,150,90,60,40],[500,300,180,120,80],[125,75,45,30,20],[125,75,45,30,20]][e][t]}function mockChartExp(e,t,a){let n=exp[e],l=0,r=0;1===e?r=80:2===e?r=101:3===e&&(r=30);for(let e=t-r;e<a-r;e++)l+=n[e];return l}$((function(){const e=["最终提供","碎片消耗","经验消耗","分解碎片"];for(let t=0;t<e.length;t++)$("#five_element_mock").append(`\n          <div class="layui-input-inline" style="text-align-last:center;width: 112px;text-align: center">\n            <label class="layui-form-label" style="border: rgba(0,0,0,.85) 1px solid">${e[t]}</label>\n            <input type="text" id="fiveDep${t}" readonly class="layui-input" value="无" style="padding: 0">\n          </div>\n        `);layui.use(["form","layer"],(function(){const e=layui.form,t=layui.layer;e.verify({levelVerify:function(){let e=parseInt($("#initialLevel").val()),t=parseInt($("#targetLevel").val()),a=parseInt($startLevel.val()),n=parseInt($endLevel.val());return e>t||a>n?"初始等级不能大于目标等级":void 0},fiveVerify:function(e){if((e=parseInt(e))<=0||e>20)return"五行等级不符合逻辑"},characterVerify:function(e){switch(e=parseInt(e),parseInt($("[name='characterStyle']").val())){case 0:if(e<=0||e>100)return"等级不符合逻辑";break;case 1:if(e<80||e>139)return"等级不符合逻辑(80级以下无数据)";break;case 2:if(e<101||e>169)return"等级不符合逻辑";break;case 3:if(e<30||e>179)return"等级不符合逻辑"}}});let a=t.msg("正在获取数据...",{icon:16,shade:.3,time:0});fetch("./assets/db/exp.json").then(e=>e.json()).then(e=>{exp[0]=e[0],exp[1]=e[1],exp[2]=e[2],exp[3]=e[3],t.close(a)}),e.render("select"),callback(e,t)}))}))</script></body></html>