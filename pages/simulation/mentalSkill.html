<!DOCTYPE html><html lang="zh_CN"><head><meta charset="UTF-8"><title>心法和经脉</title><style type="text/css">#mental_skill{background-color:#8abf1f;box-shadow:0 0 10px #edc263;border-radius:5px;margin-bottom:10px}#meridian{background-color:#ffc15a;box-shadow:0 0 10px #a9ff45;border-radius:5px;margin-bottom:10px;margin-top:10px}#skills_exp{background-color:#ceb89c;box-shadow:0 0 10px #f4ad00;border-radius:5px;margin-top:5px;padding:5px}</style></head><body><div class="layui-row"><div class="layui-col-xs12" id="mental_skill"><fieldset class="layui-elem-field layui-field-title" style="margin-top:20px"><legend>心法模拟</legend></fieldset><form class="layui-form"><div class="layui-form-item"><label class="layui-form-label">心法等级</label><div class="layui-input-inline" style="width:80px"><input type="text" id="mentalLevelMin" name="mental_level_min" lay-verify="required|number|mentalVerify" placeholder="初始心法" autocomplete="off" class="layui-input" value="1" style="padding:0;text-align:center"></div><div class="layui-form-mid">到</div><div class="layui-input-inline" style="width:80px"><input type="text" id="mentalLevelMax" name="mental_level_max" lay-verify="required|number|mentalVerify" placeholder="目标心法" autocomplete="off" class="layui-input" style="padding:0;text-align:center"></div><div class="layui-input-block"><button type="submit" class="layui-btn" lay-submit lay-filter="mentalSkill">心法模拟</button> <button type="reset" class="layui-btn layui-btn-primary">重置</button> <span style="color:#888">&emsp;PS:模拟结果可能会有一丝差别</span></div></div><div class="layui-form-item" id="mental_skill_mock"><label class="layui-form-label">模拟结果</label></div></form></div><div class="layui-col-xs12" id="meridian"><fieldset class="layui-elem-field layui-field-title" style="margin-top:20px"><legend>经脉模拟</legend></fieldset><form class="layui-form"><div class="layui-form-item"><div class="layui-inline"><label class="layui-form-label">经脉层数</label><div class="layui-input-inline" style="width:80px"><input type="text" id="meridianLevelMin" name="meridian_level_min" lay-verify="required|number|meridianVerify" placeholder="初始经脉" autocomplete="off" class="layui-input" value="0" style="padding:0;text-align:center"></div><div class="layui-form-mid">到</div><div class="layui-input-inline" style="width:80px"><input type="text" id="meridianLevelMax" name="meridian_level_max" lay-verify="required|number|meridianVerify" placeholder="目标经脉" autocomplete="off" class="layui-input" style="padding:0;text-align:center"></div><div class="layui-input-inline"><button type="submit" class="layui-btn" lay-submit lay-filter="meridian">经脉模拟</button> <button type="reset" class="layui-btn layui-btn-primary">重置</button></div></div></div><div class="layui-form-item" id="single_meridian_mock"><label class="layui-form-label">单经消耗</label></div><div class="layui-form-item" id="single_meridian_enhance"><label class="layui-form-label">单经提供</label></div></form></div><div class="layui-col-xs12" id="skills_exp"><fieldset class="layui-elem-field layui-field-title" style="margin-top:20px"><legend>基础技能经验</legend></fieldset><form class="layui-form layui-form-pane"><div class="layui-form-item"><label class="layui-form-label">人物等级</label><div class="layui-input-inline" style="width:80px"><input type="text" name="characterLevel" lay-verify="required|number|levelVerify" placeholder="等级范围80~179" autocomplete="off" class="layui-input" value="100" style="padding:0;text-align:center"></div><div class="layui-input-inline" style="width:105px"><input type="checkbox" name="platinumElite" lay-skin="switch" lay-text="白金会员|普通用户"></div><div class="layui-input-inline"><button type="submit" class="layui-btn" lay-submit lay-filter="skillsExp">基础技经</button> <button type="reset" class="layui-btn layui-btn-primary">重置</button></div></div><div class="layui-form-item"><label class="layui-form-label">心魔提供</label><div class="layui-input-inline" style="width:80px"><input type="text" id="xingMo" readonly="readonly" class="layui-input" value="无"></div><div class="layui-input-inline" style="width:80px"><input type="text" id="yaowang" readonly="readonly" class="layui-input" value="无"></div><label class="layui-form-label">除暴一轮</label><div class="layui-input-inline" style="width:80px"><input type="text" id="chuBao" readonly="readonly" class="layui-input" value="无"></div></div></form></div></div><script src="./assets/tool.js"></script><script type="text/javascript">function mentalExpConsumption(e,n){function l(e){let n=25*(e=parseInt(e))**2+25*e-50;return e>=110&&(n=305200+e*(e+1)*(2*e-279)/2+360195),n}let t=l(n)-l(e);return{singleExpConsumption:t,wholeExpConsumption:8*t}}function cultivationCal(e){let n=.6883947*(e=parseInt(e))+.0136147*e**2+.4655015*e**2.1012641;return{singleCultivation:Math.round(n),wholeCultivation:Math.round(8*n)}}function meridianConsumption(e,n){function l(e){let n=(.1+.1*(e=parseInt(e)))*e/2,l=(.08+.08*e)*e/2,t=0;if(10===e&&(t=1),e>10){t=1,20===e&&(t=3);let i=e-10;n=5.5+(2.2+.2*i)*i/2,l=4.4+(1.76+.16*i)*i/2}if(e>20){t=3,30===e&&(t=6);let i=e-20;n=26.5+(6.3+.3*i)*i/2,l=21.2+(5.04+.24*i)*i/2}if(e>30){t=6,40===e&&(t=10);let i=e-30;n=73+(12.5+.5*i)*i/2,l=58.4+(10+.4*i)*i/2}if(e>40){t=10,50===e&&(t=15);let i=e-40;n=160.5+(23+i)*i/2,l=128.4+(18.4+.8*i)*i/2}if(e>50){t=15,60===e&&(t=21);let i=e-50;n=325.5+(22+i)*i,l=260.4+(17.6+.8*i)*i}return{tempJJ:n,tempExp:l,tempMed:t}}let t=l(e),i=l(n);return{tempJJ:(i.tempJJ-t.tempJJ).toFixed(1),tempExp:(i.tempExp-t.tempExp).toFixed(1),tempMed:i.tempMed-t.tempMed}}function meridianEnhance(e){let n={def:0,hp:0,res:0,att:0,spd:0};if((e=parseInt(e))>0&&e<=10&&(n.def=50*e),e>10&&e<=20){let l=e-10;n.def=500,n.hp=100*l}if(e>20&&e<=30){let l=e-20;n.def=500,n.hp=1e3,n.res=50*l}if(e>30&&e<=40){let l=e-30;n.def=500,n.res=500,n.hp=1e3+100*l}if(e>40&&e<=50){let l=e-40;n.def=500,n.res=500,n.hp=2e3,n.att=50*l}if(e>50&&e<=60){let l=e-50;n.def=500,n.res=500,n.hp=2e3,n.att=500,n.spd=50*l}return n}$((function(){let e=["单技经消耗","单修为提供","八技经消耗","八修为提供","回合数提供","单修为提升"];for(let n=0;n<e.length;n++)$("#mental_skill_mock").append(`\n        <div class="layui-input-inline" style="text-align-last:center;width: 112px;text-align: center">\n            <label class="layui-form-label" style="border: rgba(0,0,0,.85) 1px solid">${e[n]}</label>\n            <input type="text" id="mental${n+1}" readonly class="layui-input" value="无" style="padding: 0">\n          </div>\n        `);let n=["单技经消耗","单经验消耗","大还丹消耗"];for(let e=0;e<n.length;e++)$("#single_meridian_mock").append(`\n        <div class="layui-input-inline" style="text-align-last:center;width: 112px;text-align: center">\n            <label class="layui-form-label" style="border: rgba(0,0,0,.85) 1px solid">${n[e]}</label>\n            <input type="text" id="singleMeridian${e}" readonly class="layui-input" value="无" style="padding: 0">\n          </div>\n        `);let l=["物防","HP","法防","[法|物]攻","速度"];for(let e=0;e<l.length;e++)$("#single_meridian_enhance").append(`\n        <div class="layui-input-inline" style="text-align-last:center;width: 112px;text-align: center">\n            <label class="layui-form-label" style="border: rgba(0,0,0,.85) 1px solid">${l[e]}</label>\n            <input type="text" id="singleMerCul${e}" readonly class="layui-input" value="无" style="padding: 0">\n          </div>\n        `)})),layui.use(["form","layer"],(function(){let e=layui.form,n=layui.layer,l=n.msg("正在获取数据...",{icon:16,shade:.3,time:0});e.render("checkbox");let t=$("#mentalLevelMin"),i=$("#mentalLevelMax"),a=$("#meridianLevelMin"),r=$("#meridianLevelMax");e.verify({mentalVerify:function(e,l){return e>279||e<1?"心法等级在1~279范围":parseInt(t.val())>parseInt(i.val())&&(n.msg("错误：初始心法 > 目标心法",{icon:2}),!0)},meridianVerify:function(e,l){return e>60||e<0?"经脉层数在0~60范围":parseInt(a.val())>parseInt(r.val())&&(n.msg("错误：初始经脉 > 目标经脉",{icon:2}),!0)},levelVerify:function(e,n){return!(e>=80&&e<=179)&&"限制等级为80~179"}}),e.on("submit(mentalSkill)",(function({field:{mental_level_max:e,mental_level_min:n}}){const l=cultivationCal(e),t=cultivationCal(n);$("#mental2").val(l.singleCultivation),$("#mental4").val(l.wholeCultivation),$("#mental5").val(parseInt(l.wholeCultivation/12e3+"")),$("#mental6").val(l.singleCultivation-t.singleCultivation);const i=mentalExpConsumption(n,e);return $("#mental1").val(i.singleExpConsumption),$("#mental3").val(i.wholeExpConsumption),!1})),e.on("submit(meridian)",(function({field:{meridian_level_max:e,meridian_level_min:n}}){const l=meridianConsumption(n,e);$("#singleMeridian0").val(l.tempJJ+"（万）"),$("#singleMeridian1").val(l.tempExp+"（亿）"),$("#singleMeridian2").val(l.tempMed+"（个）");const t=meridianEnhance(e);return $("#singleMerCul0").val(t.def),$("#singleMerCul1").val(t.hp),$("#singleMerCul2").val(t.res),$("#singleMerCul3").val(t.att),$("#singleMerCul4").val(t.spd),!1})),e.on("submit(skillsExp)",(function({field:{characterLevel:e,platinumElite:n}}){const l={xm:0,cb:0,yw:0};return(e=parseInt(e))>=80&&e<90?(l.cb=1300,l.xm=890):e>=90&&e<100?(l.cb=1400,l.xm=1730):e>=100&&e<110?(l.cb=1500,l.xm=1780):e>=110&&e<=120?(l.cb=1500,l.xm=1830):e>120&&e<130?(l.cb=1500,l.xm=1880):e>=130&&e<=140?(l.cb=1560,l.xm=1880):e>140&&e<150?(l.cb=1560,l.xm=1930):e>=150&&e<160?(l.cb=1560,l.xm=12e3,l.yw=3):e>=160&&e<180&&(l.cb=1560,l.xm=12e3,l.yw=6),"on"===n&&(l.cb=1.2*l.cb),$("#chuBao").val(l.cb),$("#xingMo").val(l.xm),$("#yaowang").val(0===l.yw?"无":l.yw+"妖王"),!1})),n.close(l)}))</script></body></html>